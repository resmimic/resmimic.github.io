<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <title>ResMimic</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <!-- Video Gallery Styles -->
    <style>
        /* Video Gallery Section Styles */
        .video-gallery-section {
            margin-bottom: 40px;
            width: 100vw;
            position: relative;
            margin-left: calc((100% - 100vw) / 2);
            box-sizing: border-box;
        }

        .video-gallery-container {
            box-sizing: border-box;
            max-width: 1150px;
            margin-left: auto;
            margin-right: auto;
            overflow-x: auto;
            scroll-behavior: smooth;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none;  /* IE and Edge */
        }

        .video-gallery-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

        .video-gallery {
            display: flex;
            gap: 15px;
            padding: 0 20px;
            padding-bottom: 10px;
            box-sizing: border-box;
            width: max-content;
            margin: 0 auto;
        }

        .gallery-video {
            flex: 0 0 auto;
            height: 220px;
            width: auto;
            border-radius: 15px;
            box-sizing: border-box;
            background-color: #fdfaf4;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        /* Navigation buttons styling */
        .gallery-nav {
            background-color: rgba(40, 40, 40, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
        }

        .gallery-nav.left {
            left: 50%;
            margin-left: -575px; /* Half of max-width (1150px) + some padding */
        }

        .gallery-nav.right {
            right: 50%;
            margin-right: -575px; /* Half of max-width (1150px) + some padding */
        }

        .gallery-nav:hover {
            background-color: rgba(0, 0, 0, 1);
        }

        .gallery-nav-controls {
            display: none; /* Hide the old controls container since buttons are now positioned absolutely */
        }

        .gallery-caption-container {
            max-width: 960px;
            margin: 15px auto 0 auto;
            padding: 0 20px;
            box-sizing: border-box;
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }

        .figure-caption.gallery-caption {
            margin-bottom: 0;
            margin-top: 0;
            text-align: left;
            flex-grow: 1;
            font-family: 'Roboto Mono', monospace;
            font-size: 14px;
            color: #555;
        }
    </style>

    <link rel="icon" type="image/png" sizes="512x512" href="images/logo.png">

    <meta property="og:type" content="website"/>
    <meta property="og:image:type" content="image/png">
    <meta property="og:url" content="https://resmimic.github.io"/>
    <meta property="og:title" content="ResMimic"/>
    <meta property="og:description" content="From General Motion Tracking to Humanoid Whole-Body Loco-Manipultion via Residual Learning"/>

    <!-- twitter card -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="ResMimic"/>
    <meta name="twitter:description"
          content="From General Motion Tracking to Humanoid Whole-Body Loco-Manipultion via Residual Learnin"/>

    <!-- extra metadata for Slack unfurls -->
    <!--    <meta name="twitter:label1" content="Published at"/>-->
    <!--    <meta name="twitter:data1" content="RSS 2024"/>-->
    <!--    <meta name="twitter:label2" content="Reading time"/>-->
    <!--    <meta name="twitter:data2" content="10 minutes"/>-->

    <!-- extra metadata — unknown support -->
    <meta property="og:type" content="article"/>
    <meta property="article:section" content="Research"/>
    <meta property="article:tag" content="Robotics"/>
    <meta property="article:tag" content="Machine Learning"/>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    

</head>
<body>

<div class="full-page-image" id="teaser">
    <div id="video_grid_1" class="video_grid">
        <div class="video_large_1 video_container">
            <div class="loading-spinner"></div>
            <video id="teaserVideo" autoplay muted playsinline>
                <source id="teaserSource" src="" type="video/mp4">
            </video>
        </div>
    </div>
    <div class="video-overlay">
        <h1 style="font-size: 8.0em;"><span style="color: rgb(196, 49, 25);">ResMimic</span></h1>
        <h2>From General Motion Tracking to Humanoid Whole-Body<br>Loco-Manipultion via Residual Learning</h2>
        
        <div class="button-container">
            <!-- <a href="" target="_blank" class="button">
                <i class="fas fa-file-alt"></i> arXiv
            </a> -->
            <a href="" target="_blank" class="button">
                <i class="fas fa-file-pdf"></i> Paper
            </a>
            <a href="" target="_blank" class="button">
                <i class="fab fa-github"></i> Code
            </a>
            <a href="" target="_blank" class="button">
                <i class="fab fa-x-twitter"></i> Twitter
            </a>
            <!-- <a href="" target="_blank" class="button">
                <i class="fab fa-youtube"></i> YouTube
            </a>
            <a href="" target="_blank" class="button">
                <i class="fab fa-bilibili"></i> Bilibili
            </a> -->
        </div>
    </div>
</div>


<div class="title_left">
    

    <h1><span style="color: rgb(196, 49, 25);">ResMimic</span>: From General Motion Tracking to Humanoid Whole-Body<br>Loco-Manipultion via Residual Learning</h1>

    <div class="team-container">
        <!-- First Row - 4 members -->
        <div class="team-member">
            <a href="https://sihengz02.github.io/" target="_blank">
                <img src="images/zhaosh.jpg" alt="Siheng Zhao" loading="lazy">
                <div class="member-name">Siheng Zhao<sup>1,2</sup></div>
            </a>
        </div>
        <div class="team-member">
            <a href="https://yanjieze.com" target="_blank">
                <img src="images/yanjie.jpg" alt="Yanjie Ze" loading="lazy">
                <div class="member-name">Yanjie Ze<sup>1,3</sup></div>
            </a>
        </div>
        <div class="team-member">
            <a href="https://yuewang.xyz/" target="_blank">
                <img src="images/yue.png" alt="Yue Wang" loading="lazy">
                <div class="member-name">Yue Wang<sup>2</sup></div>
            </a>
        </div>
    </div>

    <div class="team-container second-row">

        <div class="team-member">
            <a href="https://tml.stanford.edu/" target="_blank">
                <img src="images/karen.png" alt="C. Karen Liu" loading="lazy">
                <div class="member-name">C. Karen Liu<sup>1,3†</sup></div>
            </a>
        </div>
        <div class="team-member">
            <a href="https://people.eecs.berkeley.edu/~pabbeel/" target="_blank">
                <img src="images/pieter abbeel.png" alt="Pieter Abbeel" loading="lazy">
                <div class="member-name">Pieter Abbeel<sup>1,4†</sup></div>
            </a>
        </div>
        <div class="team-member">
            <a href="https://www.gshi.me/" target="_blank">
                <img src="images/guanya.jpg" alt="Xue Bin Peng" loading="lazy">
                <div class="member-name">Guanya Shi<sup>1,5†</sup></div>
            </a>
        </div>
        <div class="team-member">
            <a href="http://rockyduan.com/" target="_blank">
                <img src="images/rocky.jpeg" alt="Rocky Duan" loading="lazy">
                <div class="member-name">Rocky Duan<sup>1†</sup></div>
            </a>
        </div>
    </div>

    <div class="affiliation-notes">
        <p><sup>1</sup> Amazon FAR (Frontier AI & Robotics) &nbsp;&nbsp;<sup>2</sup> USC &nbsp;&nbsp;
            <sup>3</sup> Stanford University &nbsp;&nbsp;<sup>4</sup> UC Berkeley &nbsp;&nbsp;<sup>5</sup> CMU &nbsp;&nbsp;
        <br>
        <br>
        <small><em style="font-weight: normal;">Work done while interning at Amazon FAR &nbsp;&nbsp;&nbsp;&nbsp; <sup>†</sup> FAR Co-Lead</em></small></p>
    </div>
    <!-- <div class="affiliation">
        <p style="text-align: center;">
            <img src="images/affliation.png" alt="logo" class="centered-image" width="40%">
        </p>
    </div> -->
</div>






<hr class="rounded">


<div id="overview">


    <h1>Expreesive Whole-Body Loco-Manipultion</h1>
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/carry.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Carry Box onto Back (1x)</div>
                </div>
            </div>
        </div>
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/kneel.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Kneel on One Knee & Lift Box (1x)</div>
                </div>
            </div>
        </div>
    </div>

    <h1>Heavy Object with Whole-Body Contact</h1>
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/squat.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Squat & Lift Box with Whole-Body Contact (1x)</div>
                    <div class="overlay-bottom-right" style="font-size: 2.0em;">4.5kg</div>
                </div>
            </div>
        </div>
    </div>
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/chair1.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Lift Chair with Whole-Body Contact (1x)</div>
                    <div class="overlay-bottom-right" style="font-size: 2.0em;">4.5kg</div>
                </div>
            </div>
        </div>
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/chair2.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Lift Chair with Whole-Body Contact (1x)</div>
                    <div class="overlay-bottom-right" style="font-size: 2.0em;">5.5kg</div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <h3 style="text-align: center;">Robustness</h3>
    <br>
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/chair_robust1.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Lift Chair with External Perturbation (1x)</div>
                    <!-- <div class="overlay-bottom-right" style="font-size: 2.0em;">4.5kg</div> -->
                </div>
            </div>
        </div>
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/chair_robust2.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Lift Chair with 5kg Payload (1x)</div>
                    <!-- <div class="overlay-bottom-right" style="font-size: 2.0em;">4.5kg</div> -->
                </div>
            </div>
        </div>
    </div>

    <h1>General Object Interaction</h1>
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/sit.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Sit on Chair (1x)</div>
                    <div class="overlay-top-right" style="font-size: 1.0em;"><span style="color: rgb(49, 196, 25);">ResMimic (Success)</span></div>
                </div>
            </div>
        </div>
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/sit_base_policy.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Sit on Chair (1x)</div>
                    <div class="overlay-top-right" style="font-size: 1.0em;"><span style="color: rgb(196, 49, 25);">Base Policy (Failure)</span></div>
                </div>
            </div>
        </div>
    </div>


    <h1>Continuous Execution with MoCap Input</h1>
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/continuous1.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Lift Box with Random Object Initial Pose</div>
                </div>
            </div>
        </div>
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/continuous2.mp4" type="video/mp4">
                    </video>
                    <div class="overlay-clean">Autonomous Consecutive Lift Box</div>
                </div>
            </div>
        </div>
    </div>


    <h1>Reactivate Behavior to External Perturbation</h1>
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/reactive.mp4" type="video/mp4">
                    </video>
                    <!-- <div class="overlay-clean">Whole-Body Dex Pick & Place</div> -->
                </div>
            </div>
        </div>
    </div>


    <h1>Comparison with Baselines</h1>
    <!-- <h3 style="text-align: center;">Task1</h3>
    <br> -->
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/kneel.mp4" type="video/mp4">
                    </video>
                    <!-- <div class="overlay-clean">Whole-Body Dex Pick & Place</div> -->
                    <div class="overlay-top-right" style="font-size: 1.0em;"><span style="color: rgb(49, 196, 25);">ResMimic (Success)</span></div>
                </div>
            </div>
        </div>
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/kneel_base_policy.mp4" type="video/mp4">
                    </video>
                    <!-- <div class="overlay-clean">Mobile Dex Pick & Place</div> -->
                    <div class="overlay-top-right" style="font-size: 1.0em;"><span style="color: rgb(196, 49, 25);">Base Policy (Failure)</span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="task-row">
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/kneel_scratch.mp4" type="video/mp4">
                    </video>
                    <!-- <div class="overlay-clean">Whole-Body Dex Pick & Place</div> -->
                    <div class="overlay-top-right" style="font-size: 1.0em;"><span style="color: rgb(196, 49, 25);">Train from Scratch (Failure)</span></div>
                </div>
            </div>
        </div>
        <div class="task-column">
            <div class="video_container_wrapper1">
                <div class="video_container">
                    <video class="content-video" muted playsinline preload="none" controls loop>
                        <source src="videos/kneel_finetune.mp4" type="video/mp4">
                    </video>
                    <!-- <div class="overlay-clean">Mobile Dex Pick & Place</div> -->
                    <div class="overlay-top-right" style="font-size: 1.0em;"><span style="color: rgb(196, 49, 25);">Base Policy + Finetune (Failure)</span></div>
                </div>
            </div>
        </div>
    </div>
    <br>

    <hr class="rounded">

    

    <hr class="rounded">





    <!-- <h1 id="acknowledgements">Acknowledgements</h1>
    <p>

    </p>

    <h1>BibTeX</h1>
    <p class="bibtex">
    </p> -->


    <p style="text-align: center;">
        Website modified from <a href="">TWIST</a>.
        <br>
        <br>
        <br>
    </p>


</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const bibtex = document.querySelector('#overview > .bibtex');
        
        if (bibtex) {
            bibtex.addEventListener('click', function() {
                const text = this.innerText;
                navigator.clipboard.writeText(text).then(
                    function() {
                        // Create a temporary element to show "Copied!" message
                        const message = document.createElement('div');
                        message.textContent = 'Copied!';
                        message.style.position = 'fixed';
                        message.style.top = '50%';
                        message.style.left = '50%';
                        message.style.transform = 'translate(-50%, -50%)';
                        message.style.padding = '10px 20px';
                        message.style.backgroundColor = 'rgba(0,0,0,0.7)';
                        message.style.color = 'white';
                        message.style.borderRadius = '5px';
                        message.style.zIndex = '1000';
                        
                        document.body.appendChild(message);
                        
                        // Remove the message after 2 seconds
                        setTimeout(function() {
                            document.body.removeChild(message);
                        }, 2000);
                    },
                    function() {
                        console.error('Failed to copy text');
                    }
                );
            });
        }
    });

    // List of video sources
    const videoSources = [
        'videos/carry.mp4',
        'videos/kneel.mp4',
        'videos/chair_robust2.mp4',
        'videos/chair2.mp4',
        'videos/sit.mp4',
        'videos/squat.mp4',
    ];

    // Function to get random video source
    function getRandomVideo() {
        const randomIndex = Math.floor(Math.random() * videoSources.length);
        return videoSources[randomIndex];
    }

    // Function to play random video
    function playRandomVideo() {
        const video = document.getElementById('teaserVideo');
        const source = document.getElementById('teaserSource');
        const spinner = document.querySelector('.loading-spinner');
        
        // Show spinner
        spinner.style.display = 'block';
        
        source.src = getRandomVideo();
        video.load();
        
        // Hide spinner when video starts playing
        video.addEventListener('playing', function() {
            spinner.style.display = 'none';
        }, { once: true });
        
        video.play();
    }

    // Play random video when current video ends
    document.getElementById('teaserVideo').addEventListener('ended', playRandomVideo);

    // Initial random video
    playRandomVideo();

    // Initialize Video Gallery Navigation with Auto-scroll
    document.addEventListener('DOMContentLoaded', function() {
        const galleries = [
            {
                sectionId: 'kicktGallerySection',
                galleryInnerId: 'videoGalleryKickt',
                scrollLeftBtnId: 'scrollLeftBtnKickt',
                scrollRightBtnId: 'scrollRightBtnKickt'
            },
            {
                sectionId: 'wbdexGallerySection',
                galleryInnerId: 'videoGalleryWbdex',
                scrollLeftBtnId: 'scrollLeftBtnWbdex',
                scrollRightBtnId: 'scrollRightBtnWbdex'
            }
        ];

        galleries.forEach(galleryConfig => {
            const gallerySection = document.getElementById(galleryConfig.sectionId);
            if (!gallerySection) {
                console.error(`Gallery section with ID ${galleryConfig.sectionId} not found.`);
                return;
            }

            const galleryContainer = gallerySection.querySelector('.video-gallery-container');
            const galleryInner = document.getElementById(galleryConfig.galleryInnerId);
            const scrollLeftBtn = document.getElementById(galleryConfig.scrollLeftBtnId);
            const scrollRightBtn = document.getElementById(galleryConfig.scrollRightBtnId);

            if (galleryContainer && galleryInner && scrollLeftBtn && scrollRightBtn) {
                // Calculate the scroll amount based on the width of the first video + gap
                const scrollAmount = (galleryInner.firstElementChild?.offsetWidth || 300) + 15; // 15 is the gap
                let autoScrollInterval;
                let isUserInteracting = false;

                // Function to scroll right
                const scrollRight = () => {
                    const maxScroll = galleryContainer.scrollWidth - galleryContainer.clientWidth;
                    if (galleryContainer.scrollLeft >= maxScroll - 10) {
                        // If at the end, scroll back to beginning
                        galleryContainer.scrollTo({ left: 0, behavior: 'smooth' });
                    } else {
                        galleryContainer.scrollBy({ left: scrollAmount, behavior: 'smooth' });
                    }
                };

                // Function to scroll left
                const scrollLeft = () => {
                    if (galleryContainer.scrollLeft <= 10) {
                        // If at the beginning, scroll to end
                        const maxScroll = galleryContainer.scrollWidth - galleryContainer.clientWidth;
                        galleryContainer.scrollTo({ left: maxScroll, behavior: 'smooth' });
                    } else {
                        galleryContainer.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
                    }
                };

                // Manual navigation button handlers
                scrollLeftBtn.addEventListener('click', () => {
                    scrollLeft();
                    resetAutoScroll();
                });

                scrollRightBtn.addEventListener('click', () => {
                    scrollRight();
                    resetAutoScroll();
                });

                // Auto-scroll functionality
                const startAutoScroll = () => {
                    autoScrollInterval = setInterval(() => {
                        if (!isUserInteracting) {
                            scrollRight();
                        }
                    }, 5000); // Auto-scroll every 5 seconds
                };

                const stopAutoScroll = () => {
                    if (autoScrollInterval) {
                        clearInterval(autoScrollInterval);
                        autoScrollInterval = null;
                    }
                };

                const resetAutoScroll = () => {
                    stopAutoScroll();
                    // Restart auto-scroll after user interaction
                    setTimeout(() => {
                        if (!isUserInteracting) {
                            startAutoScroll();
                        }
                    }, 2000); // Wait 2 seconds before restarting
                };

                // Detect user interaction
                galleryContainer.addEventListener('mouseenter', () => {
                    isUserInteracting = true;
                    stopAutoScroll();
                });

                galleryContainer.addEventListener('mouseleave', () => {
                    isUserInteracting = false;
                    startAutoScroll();
                });

                // Start auto-scroll initially
                startAutoScroll();

                // Pause auto-scroll when page is not visible
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        stopAutoScroll();
                    } else if (!isUserInteracting) {
                        startAutoScroll();
                    }
                });
            } else {
                console.error(`Gallery elements not found for navigation setup in section ${galleryConfig.sectionId}.`);
            }
        });
    });

    document.addEventListener('DOMContentLoaded', function() {
        // Initialize Intersection Observer
        const videoObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const video = entry.target;
                    // Set autoplay when video becomes visible
                    video.autoplay = true;
                    video.load();
                    // Stop observing after loading
                    videoObserver.unobserve(video);
                }
            });
        }, {
            rootMargin: '50px 0px', // Start loading when video is 50px from viewport
            threshold: 0
        });

        // Observe all content videos
        document.querySelectorAll('.content-video').forEach(video => {
            videoObserver.observe(video);
        });
    });
</script>
</body>

<!-- <script src="assets/js/full_screen_video.js"></script> -->
<!-- <script src="assets/js/carousel.js"></script> -->
</html>
